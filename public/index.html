<!DOCTYPE html>
<html lang="en" ng-app="portfolioApp">
	<head>
		<meta charset="UTF-8">
		<title>Xpertranger Portfolio</title>
		<link rel="stylesheet" href="styles.css">
		<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.3/angular.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular-sanitize.min.js"></script>
		<script src="app.js"></script>
	</head>
	<body ng-class="{ 'dark-mode': darkMode }" ng-controller="MainController">
		<header class="flex-row">
			<h1 class="flex-col" style="justify-content:center;">Xpertranger Portfolio</h1>
			<div class="flex-col" style="justify-content:center; height:inherit">
				<button class="dark-mode-button" ng-click="toggleDarkMode()">
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="dark-mode-icon">
					  <path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd" />
					</svg>
					Theme
				</button>
			</div>
		</header>
		<!-- <nav>
			<label>Filter by Category:</label>
			<select ng-model="selectedCategory">
				<option value="">All</option>
				<option ng-repeat="category in categories">{{ category }}</option>
			</select>
		</nav> -->
		<main>
			<div class="display-area">
				<div class="flex-row" style="padding:20px;">
					<div>
						<table  class="brew-nav-table">
							<tr>
								<th colspan="2">
									<button ng-click="showFilterWindow()" class="clickable-header table-filter">
										Filter
									</button>
								</th>
							</tr>
							<tr>
								<th colspan="2">
									<input type="text" placeholder="Search" ng-model="searchText" class="search"></input>
								</th>
							</tr>
							<tr>
								<th style="min-width: 80px">
									<button ng-click="setCurrentSort('title')" class="clickable-header">
										Title<span ng-if="currentSort === 'title'">{{ reverseSort ? '↑' : '↓' }}</span>
									</button>
								</th>
								<th style="min-width: 80px">
									<button ng-click="setCurrentSort('category')" class="clickable-header">
										Category<span ng-if="currentSort === 'category'">{{ reverseSort ? '↑' : '↓' }}</span>
									</button>
								</th>
							</tr>
							<tr ng-class="{ 'selected-tr': (brew.id === selectedBrew), 'unselected-tr': (brew.id != selectedBrew), }" 
							ng-click="selectBrew(brew.id)" 
							ng-repeat="brew in brews | filter:searchByTitleFilter | orderBy:currentSort:reverseSort">
								<td>{{brew.title}}</td>
								<td>{{brew.category}}</td>
							</tr>
						</table>
					</div>
					<div class="table-display-area">
						<div class="brew-display">
							<section ng-repeat="brew in brews" ng-if="brew.id === selectedBrew">
								<div ng-bind-html="brew.content"></div>
							</section>
						</div>
					</div>
				</div>
			</div>
			<div class="display-area flex-row" ng-click="hideFilterWindow()" ng-class="{ 'no-display' : (filtersHidden) }">
				<div class="flex-col" style="justify-content:center;">
					<div class="filters-window">
						<div class="filter-header flex-row">
							<div class="flex-row">
								<h3 style="padding-right:5px;">Filters</h3>
								<input type="text" placeholder="Search" ng-model="filterSearchText" class="search"></input>
							</div>
							<div>
								<button ng-click="hideFilterWindow()" class="close-button">X</button>
							</div>
						</div>
						temp filter text
					</div>
				</div>
			</div>
			<!-- <div class="display-area flex-row">
				<label>Enter Title:</label>
				<input type="text" ng-model="newBrewTitle"></input>
				<label>Enter Category:</label>
				<input type="text" ng-model="newBrewCategory"></input>
				<label>Enter Content:</label>
				<input type="text" ng-model="newBrewContent"></input>
				<button ng-click="addBrew()"> Add test brew </button>
			</div> -->
		</main>
	</body>
</html>