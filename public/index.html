<!DOCTYPE html>
<html lang="en" ng-app="portfolioApp">
	<head>
		<meta charset="UTF-8">
		<title>Xpertranger Portfolio</title>
		<link rel="stylesheet" href="styles.css">
		<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.3/angular.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular-sanitize.min.js"></script>
		<script src="app.js"></script>
	</head>
	<body ng-class="{ 'dark-mode': darkMode }" ng-controller="MainController">
		<header class="flex-row" style="padding-left: 20px;padding-right: 20px;">
			<h1 class="flex-col" style="justify-content:center;">Xpertranger Portfolio</h1>
			<button class="flex-col dark-mode-button" ng-click="toggleDarkMode()">
				<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="dark-mode-icon">
  					<path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z" />
				</svg>
				Dark Mode
			</button>
		</header>
		<!-- <nav>
			<label>Filter by Category:</label>
			<select ng-model="selectedCategory">
				<option value="">All</option>
				<option ng-repeat="category in categories">{{ category }}</option>
			</select>
		</nav> -->
		<main>
			<div class="display-area">
				<div class="flex-row" style="padding:20px;">
					<div>
						<table  class="brew-nav-table">
							<tr>
								<th colspan="2">
									<button ng-click="showFilterWindow()" class="clickable-header table-filter">
										Filter
									</button>
								</th>
							</tr>
							<tr>
								<th colspan="2">
									<input type="text" placeholder="Search" ng-model="searchText" class="search"></input>
								</th>
							</tr>
							<tr>
								<th style="min-width: 80px">
									<button ng-click="setCurrentSort('title')" class="clickable-header">
										Title<span ng-if="currentSort === 'title'">{{ reverseSort ? '↑' : '↓' }}</span>
									</button>
								</th>
								<th style="min-width: 80px">
									<button ng-click="setCurrentSort('category')" class="clickable-header">
										Category<span ng-if="currentSort === 'category'">{{ reverseSort ? '↑' : '↓' }}</span>
									</button>
								</th>
							</tr>
							<tr ng-class="{ 'selected-tr': (brew.id === selectedBrew), 'unselected-tr': (brew.id != selectedBrew), }" 
							ng-click="selectBrew(brew.id)" 
							ng-repeat="brew in brews | filter:searchByTitleFilter | orderBy:currentSort:reverseSort">
								<td>{{brew.title}}</td>
								<td>{{brew.category}}</td>
							</tr>
						</table>
					</div>
					<div class="table-display-area">
						<div class="brew-display">
							<section ng-repeat="brew in brews" ng-if="brew.id === selectedBrew">
								<div ng-bind-html="brew.content"></div>
							</section>
						</div>
					</div>
				</div>
			</div>
			<div class="display-area flex-row" ng-click="hideFilterWindow()" ng-class="{ 'no-display' : (filtersHidden) }">
				<div class="flex-col" style="justify-content:center;">
					<div class="filters-window">
						<div class="filter-header flex-row">
							<div class="flex-row">
								<h3 style="padding-right:5px;">Filters</h3>
								<input type="text" placeholder="Search" ng-model="filterSearchText" class="search"></input>
							</div>
							<div>
								<button ng-click="hideFilterWindow()" class="close-button">X</button>
							</div>
						</div>
						temp filter text
					</div>
				</div>
			</div>
			<!-- <div class="display-area flex-row">
				<label>Enter Title:</label>
				<input type="text" ng-model="newBrewTitle"></input>
				<label>Enter Category:</label>
				<input type="text" ng-model="newBrewCategory"></input>
				<label>Enter Content:</label>
				<input type="text" ng-model="newBrewContent"></input>
				<button ng-click="addBrew()"> Add test brew </button>
			</div> -->
		</main>
	</body>
</html>